import React, { useState } from "react";
import { Link, useLocation } from "react-router-dom";
import "./nav.css";

const Nav = () => {
  //click시에 버튼 fill 채워지도록 onClick 기능 구현
  const [buttonFill, setButtonFill] = useState("none");
  const handleTouchStart = () => {
    setButtonFill("white");
  };

  //mainpage에선 백탑버튼으로, detailpage에선 mainpage버튼으로 갈 수 있게 기능 구현
  const currLoc = useLocation().pathname;
  const isHome = currLoc === "/";

  const handleTop = () => {
    window.scrollTo({
      top: 0,
      behavior: "smooth",
    });
  };

  return (
    <nav className="navbarItems">
      <svg
        className="navbarLogo"
        width="84"
        height="20"
        viewBox="0 0 84 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M0 12.7234V10.0213L7.76973 9.57447V9L1.62774 9.3617V0.382979H18.5128V2.80851H6.09858V3.65957L18.2958 3.06383V5.31915L6.09858 6V6.53191L18.5128 5.80851V8.3617L12.3708 8.7234V9.31915L20.1405 8.85106V11.5532L0 12.7234ZM5.94666 19C5.23769 19 4.5866 18.9362 3.99338 18.8085C3.40016 18.6809 2.88652 18.4894 2.45246 18.234C2.01839 17.9787 1.67838 17.6525 1.43241 17.2553C1.20091 16.8723 1.08516 16.4184 1.08516 15.8936C1.08516 15.3688 1.20091 14.922 1.43241 14.5532C1.67838 14.1844 2.01839 13.8794 2.45246 13.6383C2.88652 13.3972 3.40016 13.2128 3.99338 13.0851C4.5866 12.9574 5.23769 12.8723 5.94666 12.8298L14.1722 12.383C14.8811 12.3404 15.5322 12.383 16.1254 12.5106C16.7187 12.6241 17.2323 12.8227 17.6664 13.1064C18.1004 13.3759 18.4332 13.7234 18.6647 14.1489C18.9107 14.5603 19.0337 15.0496 19.0337 15.617C19.0337 16.1844 18.9107 16.6809 18.6647 17.1064C18.4332 17.5319 18.1004 17.8794 17.6664 18.1489C17.2323 18.4326 16.7187 18.6454 16.1254 18.7872C15.5322 18.9291 14.8811 19 14.1722 19H5.94666ZM6.25051 15.4468C5.96113 15.4752 5.7658 15.5248 5.66452 15.5957C5.56324 15.6667 5.5126 15.7589 5.5126 15.8723C5.5126 16.1135 5.71516 16.2269 6.12029 16.2128L13.9334 15.8723C14.3964 15.8582 14.6279 15.7021 14.6279 15.4043C14.6279 15.1631 14.3964 15.0567 13.9334 15.0851L6.25051 15.4468Z"
          fill="white"
        />
        <path
          d="M35.1042 18.9787V16.5319L21.301 17.9362V13.9574L23.7968 13.7021V7.91489H28.1592V13.2766L35.1042 12.5745V0.382979H39.575V6.53191L41.8755 6.2766V10.617L39.575 10.8723V18.1277L35.1042 18.9787ZM29.4179 12.1702V4.29787H21.6265V0.489362H33.802V11.7447L29.4179 12.1702Z"
          fill="white"
        />
        <path
          d="M58.0112 11.1064V7.95745L57.1864 8.04255V11.1915L53.3233 11.5532V0.382979H57.1864V3.70213L58.0112 3.61702V0.382979H61.9394V10.6596L58.0112 11.1064ZM57.5988 15.9787L53.6488 18.9362L49.7206 15.9787L46.1178 18.9362L43.6437 16.3617L47.5502 13.2128V12.1489L51.9126 11.7447V13L53.6488 14.1915L55.3851 12.8936V11.9362L59.7691 11.5106V13L63.871 15.9362L61.1798 18.9362L57.5988 15.9787ZM52.173 6.68085C52.3756 7.04965 52.4769 7.47518 52.4769 7.95745C52.4769 8.58156 52.3394 9.12057 52.0645 9.57447C51.7896 10.0284 51.4279 10.4113 50.9793 10.7234C50.5453 11.0355 50.0389 11.2695 49.4601 11.4255C48.8958 11.5674 48.3098 11.6383 47.7022 11.6383C47.0945 11.6383 46.5013 11.5674 45.9225 11.4255C45.3582 11.2695 44.8518 11.0426 44.4033 10.7447C43.9692 10.4326 43.6147 10.0496 43.3398 9.59575C43.0649 9.12766 42.9275 8.58156 42.9275 7.95745C42.9275 7.50355 43.0215 7.07801 43.2096 6.68085H42.4283V3.59575H52.9109V6.68085H52.173ZM44.6854 3.14894V0H51.0879V3.14894H44.6854ZM47.7022 6.68085C47.3549 6.68085 47.0583 6.75886 46.8123 6.91489C46.5664 7.05674 46.4434 7.2695 46.4434 7.55319C46.4434 7.83688 46.5664 8.05674 46.8123 8.21277C47.0583 8.36879 47.3549 8.44681 47.7022 8.44681C48.0494 8.44681 48.346 8.36879 48.592 8.21277C48.838 8.05674 48.9609 7.83688 48.9609 7.55319C48.9609 7.28369 48.8524 7.07801 48.6354 6.93617C48.4184 6.79433 48.1579 6.70922 47.8541 6.68085H47.7022Z"
          fill="white"
        />
        <path
          d="M76.1652 14.2766V18.5532L71.6509 18.9787V14.5532L63.8378 15.0426V11.3191L83.9783 9.97872V13.7872L76.1652 14.2766ZM73.908 6.55319L66.0298 10.7872L63.8161 7.59575L71.6292 3.19149V0.276596H76.1869V3.08511L84 6.53191L81.7863 9.93617L73.908 6.55319Z"
          fill="url(#paint0_linear_211_517)"
        />
        <defs>
          <linearGradient
            id="paint0_linear_211_517"
            x1="64.5451"
            y1="2.0677"
            x2="80.5402"
            y2="16.4058"
            gradientUnits="userSpaceOnUse"
          >
            <stop stopColor="#30D0D0" />
            <stop offset="1" stopColor="#340869" />
          </linearGradient>
        </defs>
      </svg>
      {isHome && (
        <button
          className="navbarBacktopButton"
          onClick={handleTop}
          onTouchStart={(e) => {
            setButtonFill("white");
          }}
          onTouchEnd={(e) => {
            setButtonFill("none");
          }}
        >
          <svg
            width="44"
            height="44"
            viewBox="0 0 44 44"
            fill={buttonFill}
            xmlns="http://www.w3.org/2000/svg"
            padding="11px 12px 11px 12px"
          >
            <path
              d="M22 24.5094L24.9987 24.5014C25.2753 24.5006 25.5 24.7247 25.5 25.0013V31.992C25.5 32.5437 25.9468 32.9912 26.4985 32.992L30.9985 32.9985C31.5514 32.9993 32 32.5514 32 31.9985V20.2995C32 20.013 31.8772 19.7404 31.6627 19.5506L22.6627 11.5864C22.2843 11.2516 21.7157 11.2516 21.3373 11.5864L12.3373 19.5506C12.1228 19.7404 12 20.013 12 20.2995V32C12 32.5523 12.4477 33 13 33H17.5C18.0523 33 18.5 32.5523 18.5 32V25.0081C18.5 24.7325 18.723 24.5088 18.9987 24.5081L22 24.5"
              stroke="white"
              strokeWidth="1.5"
            />
          </svg>
        </button>
      )}
      {!isHome && (
        <Link
          to="/"
          className="navbarHomeButton"
          onClick={handleTop}
          onTouchStart={(e) => {
            setButtonFill("white");
          }}
          onTouchEnd={(e) => {
            setButtonFill("none");
          }}
        >
          <svg
            width="44"
            height="44"
            viewBox="0 0 44 44"
            fill={buttonFill}
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M22 24.5094L24.9987 24.5014C25.2753 24.5006 25.5 24.7247 25.5 25.0013V31.992C25.5 32.5437 25.9468 32.9912 26.4985 32.992L30.9985 32.9985C31.5514 32.9993 32 32.5514 32 31.9985V20.2995C32 20.013 31.8772 19.7404 31.6627 19.5506L22.6627 11.5864C22.2843 11.2516 21.7157 11.2516 21.3373 11.5864L12.3373 19.5506C12.1228 19.7404 12 20.013 12 20.2995V32C12 32.5523 12.4477 33 13 33H17.5C18.0523 33 18.5 32.5523 18.5 32V25.0081C18.5 24.7325 18.723 24.5088 18.9987 24.5081L22 24.5"
              stroke="white"
              strokeWidth="1.5"
            />
          </svg>
        </Link>
      )}
    </nav>
  );
};

export default Nav;