{"ast":null,"code":"import React from\"react\";import{useAxios}from\"../../custom-hooks\";import\"./table.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Table=function Table(){var columns=[\"브랜드\",\"제조원\",\"수질적합\\n여부\",\"부적합\\n판정횟수\",\"출시일\"];//api 호출\nvar _useAxios=useAxios(),waterBrands=_useAxios.waterBrands,waterSources=_useAxios.waterSources,brandSourceMappings=_useAxios.brandSourceMappings,testHistory=_useAxios.testHistory;return/*#__PURE__*/_jsx(\"div\",{className:\"tableArea\",children:/*#__PURE__*/_jsx(\"div\",{className:\"tableWrapper\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsxs(\"colgroup\",{children:[/*#__PURE__*/_jsx(\"col\",{className:\"col1\"}),/*#__PURE__*/_jsx(\"col\",{className:\"col1\"}),/*#__PURE__*/_jsx(\"col\",{className:\"col2\"}),/*#__PURE__*/_jsx(\"col\",{className:\"col2\"}),/*#__PURE__*/_jsx(\"col\",{className:\"col1\"})]}),/*#__PURE__*/_jsx(\"thead\",{className:\"tableHead contentSubTitle\",children:/*#__PURE__*/_jsx(\"tr\",{children:columns.map(function(column,index){return/*#__PURE__*/_jsx(\"th\",{children:column},index);})})}),/*#__PURE__*/_jsx(\"tbody\",{children:waterBrands.map(function(waterBrand,index){var waterBrandId=waterBrand.id;var waterSourceIds=brandSourceMappings.filter(function(brandSourceMapping){return brandSourceMapping.brand===waterBrandId;}).map(function(brandSourceMapping){return brandSourceMapping.source;});var matchedSources=waterSourceIds.map(function(id){if(id<8)return waterSources[id-2].name;else return waterSources[id-3].name;});var invalidCount=testHistory.filter(function(hist){return waterSourceIds.includes(hist.source);}).length;var isValid=invalidCount===0?\"O\":\"X\";return/*#__PURE__*/_jsxs(\"tr\",{style:{borderBottom:\"1px solid black\"},children:[/*#__PURE__*/_jsx(\"td\",{className:\"contextText\",children:waterBrand.name}),/*#__PURE__*/_jsx(\"td\",{className:\"contextText\",children:matchedSources}),/*#__PURE__*/_jsx(\"td\",{className:\"contextText\",children:isValid}),/*#__PURE__*/_jsx(\"td\",{className:\"contextText\",children:invalidCount}),/*#__PURE__*/_jsx(\"td\",{className:\"contextText\",children:\"comingSoon\"})]},index);})})]})})});};export default Table;","map":{"version":3,"names":["React","useAxios","Table","columns","waterBrands","waterSources","brandSourceMappings","testHistory","map","column","index","waterBrand","waterBrandId","id","waterSourceIds","filter","brandSourceMapping","brand","source","matchedSources","name","invalidCount","hist","includes","length","isValid","borderBottom"],"sources":["/Users/obzva/Desktop/find-clean-water/src/components/table/table.js"],"sourcesContent":["import React from \"react\";\nimport { useAxios } from \"../../custom-hooks\";\nimport \"./table.css\";\n\nconst Table = () => {\n  const columns = [\n    \"브랜드\",\n    \"제조원\",\n    \"수질적합\\n여부\",\n    \"부적합\\n판정횟수\",\n    \"출시일\",\n  ];\n\n  //api 호출\n  const { waterBrands, waterSources, brandSourceMappings, testHistory } =\n    useAxios();\n\n  return (\n    <div className=\"tableArea\">\n      <div className=\"tableWrapper\">\n        <table>\n          <colgroup>\n            <col className=\"col1\" />\n            <col className=\"col1\" />\n            <col className=\"col2\" />\n            <col className=\"col2\" />\n            <col className=\"col1\" />\n          </colgroup>\n          <thead className=\"tableHead contentSubTitle\">\n            <tr>\n              {columns.map((column, index) => (\n                <th key={index}>{column}</th>\n              ))}\n            </tr>\n          </thead>\n          <tbody>\n            {waterBrands.map((waterBrand, index) => {\n              const waterBrandId = waterBrand.id;\n              const waterSourceIds = brandSourceMappings\n                .filter(\n                  (brandSourceMapping) =>\n                    brandSourceMapping.brand === waterBrandId\n                )\n                .map((brandSourceMapping) => brandSourceMapping.source);\n              const matchedSources = waterSourceIds.map((id) => {\n                if (id < 8) return waterSources[id - 2].name;\n                else return waterSources[id - 3].name;\n              });\n              const invalidCount = testHistory.filter((hist) =>\n                waterSourceIds.includes(hist.source)\n              ).length;\n\n              const isValid = invalidCount === 0 ? \"O\" : \"X\";\n\n              return (\n                <tr key={index} style={{ borderBottom: \"1px solid black\" }}>\n                  <td className=\"contextText\">{waterBrand.name}</td>\n                  <td className=\"contextText\">{matchedSources}</td>\n                  <td className=\"contextText\">{isValid}</td>\n                  <td className=\"contextText\">{invalidCount}</td>\n                  <td className=\"contextText\">comingSoon</td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};\n\nexport default Table;\n"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,oBAAzB,CACA,MAAO,aAAP,C,wFAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAClB,GAAMC,CAAAA,OAAO,CAAG,CACd,KADc,CAEd,KAFc,CAGd,UAHc,CAId,WAJc,CAKd,KALc,CAAhB,CAQA;AACA,cACEF,QAAQ,EADV,CAAQG,WAAR,WAAQA,WAAR,CAAqBC,YAArB,WAAqBA,YAArB,CAAmCC,mBAAnC,WAAmCA,mBAAnC,CAAwDC,WAAxD,WAAwDA,WAAxD,CAGA,mBACE,YAAK,SAAS,CAAC,WAAf,uBACE,YAAK,SAAS,CAAC,cAAf,uBACE,sCACE,yCACE,YAAK,SAAS,CAAC,MAAf,EADF,cAEE,YAAK,SAAS,CAAC,MAAf,EAFF,cAGE,YAAK,SAAS,CAAC,MAAf,EAHF,cAIE,YAAK,SAAS,CAAC,MAAf,EAJF,cAKE,YAAK,SAAS,CAAC,MAAf,EALF,GADF,cAQE,cAAO,SAAS,CAAC,2BAAjB,uBACE,oBACGJ,OAAO,CAACK,GAAR,CAAY,SAACC,MAAD,CAASC,KAAT,qBACX,oBAAiBD,MAAjB,EAASC,KAAT,CADW,EAAZ,CADH,EADF,EARF,cAeE,uBACGN,WAAW,CAACI,GAAZ,CAAgB,SAACG,UAAD,CAAaD,KAAb,CAAuB,CACtC,GAAME,CAAAA,YAAY,CAAGD,UAAU,CAACE,EAAhC,CACA,GAAMC,CAAAA,cAAc,CAAGR,mBAAmB,CACvCS,MADoB,CAEnB,SAACC,kBAAD,QACEA,CAAAA,kBAAkB,CAACC,KAAnB,GAA6BL,YAD/B,EAFmB,EAKpBJ,GALoB,CAKhB,SAACQ,kBAAD,QAAwBA,CAAAA,kBAAkB,CAACE,MAA3C,EALgB,CAAvB,CAMA,GAAMC,CAAAA,cAAc,CAAGL,cAAc,CAACN,GAAf,CAAmB,SAACK,EAAD,CAAQ,CAChD,GAAIA,EAAE,CAAG,CAAT,CAAY,MAAOR,CAAAA,YAAY,CAACQ,EAAE,CAAG,CAAN,CAAZ,CAAqBO,IAA5B,CAAZ,IACK,OAAOf,CAAAA,YAAY,CAACQ,EAAE,CAAG,CAAN,CAAZ,CAAqBO,IAA5B,CACN,CAHsB,CAAvB,CAIA,GAAMC,CAAAA,YAAY,CAAGd,WAAW,CAACQ,MAAZ,CAAmB,SAACO,IAAD,QACtCR,CAAAA,cAAc,CAACS,QAAf,CAAwBD,IAAI,CAACJ,MAA7B,CADsC,EAAnB,EAEnBM,MAFF,CAIA,GAAMC,CAAAA,OAAO,CAAGJ,YAAY,GAAK,CAAjB,CAAqB,GAArB,CAA2B,GAA3C,CAEA,mBACE,YAAgB,KAAK,CAAE,CAAEK,YAAY,CAAE,iBAAhB,CAAvB,wBACE,WAAI,SAAS,CAAC,aAAd,UAA6Bf,UAAU,CAACS,IAAxC,EADF,cAEE,WAAI,SAAS,CAAC,aAAd,UAA6BD,cAA7B,EAFF,cAGE,WAAI,SAAS,CAAC,aAAd,UAA6BM,OAA7B,EAHF,cAIE,WAAI,SAAS,CAAC,aAAd,UAA6BJ,YAA7B,EAJF,cAKE,WAAI,SAAS,CAAC,aAAd,wBALF,GAASX,KAAT,CADF,CASD,CA3BA,CADH,EAfF,GADF,EADF,EADF,CAoDD,CAjED,CAmEA,cAAeR,CAAAA,KAAf"},"metadata":{},"sourceType":"module"}